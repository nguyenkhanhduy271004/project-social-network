{"ast":null,"code":"import axios from \"axios\";\nimport { API_BASE_URL } from \"../../config/api\";\nimport { GET_USER_PROFILE_USER_FAILURE, GET_USER_PROFILE_USER_SUCCESS, LOGIN_USER_FAILURE, LOGIN_USER_SUCCESS, REGISTER_USER_FAILURE, REGISTER_USER_SUCCESS } from \"./ActionType\";\nexport const loginUser = values => async dispatch => {\n  try {\n    const requestData = {\n      email: values.email,\n      password: values.password\n    };\n    const response = await axios.post(`${API_BASE_URL}/auth/login`, requestData);\n    const data = response.data;\n    if (data.jwt) {\n      localStorage.setItem(\"jwt\", data.jwt);\n    }\n    dispatch({\n      type: LOGIN_USER_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.error(error);\n    dispatch({\n      type: LOGIN_USER_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const registerUser = values => async dispatch => {\n  try {\n    const requestData = {\n      email: values.email,\n      password: values.password,\n      fullName: values.fullName,\n      birthDate: `${values.date}/${values.month}/${values.year}`\n    };\n    const response = await axios.post(`${API_BASE_URL}/auth/register`, requestData);\n    dispatch({\n      type: REGISTER_USER_SUCCESS,\n      payload: response.data\n    });\n  } catch (error) {\n    console.error(error);\n    dispatch({\n      type: REGISTER_USER_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const getUserProfile = jwt => async dispatch => {\n  try {\n    const data = await axios.post(`${API_BASE_URL}/auth/user/profile`, {\n      headers: {\n        \"Authorization\": `Bearer ${jwt}`\n      }\n    });\n    dispatch({\n      type: GET_USER_PROFILE_USER_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: GET_USER_PROFILE_USER_FAILURE,\n      payload: error.message\n    });\n  }\n};","map":{"version":3,"names":["axios","API_BASE_URL","GET_USER_PROFILE_USER_FAILURE","GET_USER_PROFILE_USER_SUCCESS","LOGIN_USER_FAILURE","LOGIN_USER_SUCCESS","REGISTER_USER_FAILURE","REGISTER_USER_SUCCESS","loginUser","values","dispatch","requestData","email","password","response","post","data","jwt","localStorage","setItem","type","payload","error","console","message","registerUser","fullName","birthDate","date","month","year","getUserProfile","headers","log"],"sources":["D:/WEB/social/social-react/src/Store/Auth/Action.js"],"sourcesContent":["import axios from \"axios\"\r\nimport { API_BASE_URL } from \"../../config/api\"\r\nimport { GET_USER_PROFILE_USER_FAILURE, GET_USER_PROFILE_USER_SUCCESS, LOGIN_USER_FAILURE, LOGIN_USER_SUCCESS, REGISTER_USER_FAILURE, REGISTER_USER_SUCCESS } from \"./ActionType\";\r\n\r\nexport const loginUser = (values) => async (dispatch) => {\r\n    try {\r\n        const requestData = {\r\n            email: values.email,\r\n            password: values.password\r\n        };\r\n\r\n        const response = await axios.post(`${API_BASE_URL}/auth/login`, requestData);\r\n        const data = response.data;\r\n\r\n        if (data.jwt) {\r\n            localStorage.setItem(\"jwt\", data.jwt);\r\n        }\r\n\r\n        dispatch({ type: LOGIN_USER_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        console.error(error);\r\n        dispatch({ type: LOGIN_USER_FAILURE, payload: error.message });\r\n    }\r\n};\r\n\r\n\r\nexport const registerUser = (values) => async (dispatch) => {\r\n    try {\r\n        const requestData = {\r\n            email: values.email,\r\n            password: values.password,\r\n            fullName: values.fullName,\r\n            birthDate: `${values.date}/${values.month}/${values.year}`\r\n        };\r\n\r\n        const response = await axios.post(`${API_BASE_URL}/auth/register`, requestData);\r\n        dispatch({ type: REGISTER_USER_SUCCESS, payload: response.data });\r\n    } catch (error) {\r\n        console.error(error);\r\n        dispatch({ type: REGISTER_USER_FAILURE, payload: error.message });\r\n    }\r\n};\r\n\r\n\r\nexport const getUserProfile = (jwt) => async (dispatch) => {\r\n    try {\r\n        const data = await axios.post(`${API_BASE_URL}/auth/user/profile`, {\r\n            headers: {\r\n                \"Authorization\": `Bearer ${jwt}`\r\n            }\r\n        });\r\n\r\n\r\n        dispatch({ type: GET_USER_PROFILE_USER_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        console.log(error);\r\n        dispatch({ type: GET_USER_PROFILE_USER_FAILURE, payload: error.message });\r\n    }\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,YAAY,QAAQ,kBAAkB;AAC/C,SAASC,6BAA6B,EAAEC,6BAA6B,EAAEC,kBAAkB,EAAEC,kBAAkB,EAAEC,qBAAqB,EAAEC,qBAAqB,QAAQ,cAAc;AAEjL,OAAO,MAAMC,SAAS,GAAIC,MAAM,IAAK,MAAOC,QAAQ,IAAK;EACrD,IAAI;IACA,MAAMC,WAAW,GAAG;MAChBC,KAAK,EAAEH,MAAM,CAACG,KAAK;MACnBC,QAAQ,EAAEJ,MAAM,CAACI;IACrB,CAAC;IAED,MAAMC,QAAQ,GAAG,MAAMd,KAAK,CAACe,IAAI,CAAC,GAAGd,YAAY,aAAa,EAAEU,WAAW,CAAC;IAC5E,MAAMK,IAAI,GAAGF,QAAQ,CAACE,IAAI;IAE1B,IAAIA,IAAI,CAACC,GAAG,EAAE;MACVC,YAAY,CAACC,OAAO,CAAC,KAAK,EAAEH,IAAI,CAACC,GAAG,CAAC;IACzC;IAEAP,QAAQ,CAAC;MAAEU,IAAI,EAAEf,kBAAkB;MAAEgB,OAAO,EAAEL;IAAK,CAAC,CAAC;EACzD,CAAC,CAAC,OAAOM,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACpBZ,QAAQ,CAAC;MAAEU,IAAI,EAAEhB,kBAAkB;MAAEiB,OAAO,EAAEC,KAAK,CAACE;IAAQ,CAAC,CAAC;EAClE;AACJ,CAAC;AAGD,OAAO,MAAMC,YAAY,GAAIhB,MAAM,IAAK,MAAOC,QAAQ,IAAK;EACxD,IAAI;IACA,MAAMC,WAAW,GAAG;MAChBC,KAAK,EAAEH,MAAM,CAACG,KAAK;MACnBC,QAAQ,EAAEJ,MAAM,CAACI,QAAQ;MACzBa,QAAQ,EAAEjB,MAAM,CAACiB,QAAQ;MACzBC,SAAS,EAAE,GAAGlB,MAAM,CAACmB,IAAI,IAAInB,MAAM,CAACoB,KAAK,IAAIpB,MAAM,CAACqB,IAAI;IAC5D,CAAC;IAED,MAAMhB,QAAQ,GAAG,MAAMd,KAAK,CAACe,IAAI,CAAC,GAAGd,YAAY,gBAAgB,EAAEU,WAAW,CAAC;IAC/ED,QAAQ,CAAC;MAAEU,IAAI,EAAEb,qBAAqB;MAAEc,OAAO,EAAEP,QAAQ,CAACE;IAAK,CAAC,CAAC;EACrE,CAAC,CAAC,OAAOM,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACpBZ,QAAQ,CAAC;MAAEU,IAAI,EAAEd,qBAAqB;MAAEe,OAAO,EAAEC,KAAK,CAACE;IAAQ,CAAC,CAAC;EACrE;AACJ,CAAC;AAGD,OAAO,MAAMO,cAAc,GAAId,GAAG,IAAK,MAAOP,QAAQ,IAAK;EACvD,IAAI;IACA,MAAMM,IAAI,GAAG,MAAMhB,KAAK,CAACe,IAAI,CAAC,GAAGd,YAAY,oBAAoB,EAAE;MAC/D+B,OAAO,EAAE;QACL,eAAe,EAAE,UAAUf,GAAG;MAClC;IACJ,CAAC,CAAC;IAGFP,QAAQ,CAAC;MAAEU,IAAI,EAAEjB,6BAA6B;MAAEkB,OAAO,EAAEL;IAAK,CAAC,CAAC;EACpE,CAAC,CAAC,OAAOM,KAAK,EAAE;IACZC,OAAO,CAACU,GAAG,CAACX,KAAK,CAAC;IAClBZ,QAAQ,CAAC;MAAEU,IAAI,EAAElB,6BAA6B;MAAEmB,OAAO,EAAEC,KAAK,CAACE;IAAQ,CAAC,CAAC;EAC7E;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}