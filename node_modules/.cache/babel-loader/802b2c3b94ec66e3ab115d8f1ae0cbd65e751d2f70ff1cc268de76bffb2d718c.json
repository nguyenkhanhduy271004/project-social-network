{"ast":null,"code":"import axios from \"axios\";\nimport { api, API_BASE_URL } from \"../../config/api\";\nimport { FIND_USER_BY_ID_FAILURE, FIND_USER_BY_ID_SUCCESS, FOLLOW_USER_FAILURE, FOLLOW_USER_SUCCESS, GET_RANDOM_USER_FAILURE, GET_RANDOM_USER_SUCCESS, GET_USER_PROFILE_USER_FAILURE, GET_USER_PROFILE_USER_SUCCESS, LOGIN_USER_FAILURE, LOGIN_USER_SUCCESS, LOGOUT, REGISTER_USER_FAILURE, REGISTER_USER_SUCCESS, SEARCH_USERS_FAILURE, SEARCH_USERS_SUCCESS, UPDATE_USER_FAILURE, UPDATE_USER_SUCCESS } from \"./ActionType\";\nexport const loginUser = loginData => async dispatch => {\n  try {\n    const response = await axios.post(`${API_BASE_URL}/auth/login`, loginData);\n    const data = response.data;\n    if (data.jwt) {\n      localStorage.setItem(\"jwt\", data.jwt);\n    }\n    dispatch({\n      type: LOGIN_USER_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: LOGIN_USER_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const registerUser = registerData => async dispatch => {\n  try {\n    const response = await axios.post(`${API_BASE_URL}/auth/register`, registerData);\n    const data = response.data;\n    if (data.jwt) {\n      localStorage.setItem(\"jwt\", data.jwt);\n    }\n    dispatch({\n      type: REGISTER_USER_SUCCESS,\n      payload: data.jwt\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: REGISTER_USER_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const getUserProfile = jwt => async dispatch => {\n  try {\n    const response = await axios.get(`${API_BASE_URL}/api/user/profile`, {\n      headers: {\n        \"Authorization\": `Bearer ${jwt}`\n      }\n    });\n    dispatch({\n      type: GET_USER_PROFILE_USER_SUCCESS,\n      payload: response.data\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: GET_USER_PROFILE_USER_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const findUserById = userId => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.get(`/api/user/${userId}`);\n    dispatch({\n      type: FIND_USER_BY_ID_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: FIND_USER_BY_ID_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const updateUserProfile = reqData => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.put(`/api/user/update`, reqData);\n    dispatch({\n      type: UPDATE_USER_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: UPDATE_USER_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const followUser = userId => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.put(`/api/user/${userId}/follow`);\n    dispatch({\n      type: FOLLOW_USER_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: FOLLOW_USER_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const getRandomUser = () => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.get(`/api/user/random`);\n    dispatch({\n      type: GET_RANDOM_USER_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: GET_RANDOM_USER_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const searchPosts = query => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.get(`/api/user/search`, {\n      params: {\n        query\n      }\n    });\n    dispatch({\n      type: SEARCH_USERS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: SEARCH_USERS_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const logout = () => async dispatch => {\n  localStorage.removeItem(\"jwt\");\n  dispatch({\n    type: LOGOUT,\n    payload: null\n  });\n};","map":{"version":3,"names":["axios","api","API_BASE_URL","FIND_USER_BY_ID_FAILURE","FIND_USER_BY_ID_SUCCESS","FOLLOW_USER_FAILURE","FOLLOW_USER_SUCCESS","GET_RANDOM_USER_FAILURE","GET_RANDOM_USER_SUCCESS","GET_USER_PROFILE_USER_FAILURE","GET_USER_PROFILE_USER_SUCCESS","LOGIN_USER_FAILURE","LOGIN_USER_SUCCESS","LOGOUT","REGISTER_USER_FAILURE","REGISTER_USER_SUCCESS","SEARCH_USERS_FAILURE","SEARCH_USERS_SUCCESS","UPDATE_USER_FAILURE","UPDATE_USER_SUCCESS","loginUser","loginData","dispatch","response","post","data","jwt","localStorage","setItem","type","payload","error","console","log","message","registerUser","registerData","getUserProfile","get","headers","findUserById","userId","updateUserProfile","reqData","put","followUser","getRandomUser","searchPosts","query","params","logout","removeItem"],"sources":["D:/WEB/social/social-react/src/Store/Auth/Action.js"],"sourcesContent":["import axios from \"axios\"\r\nimport { api, API_BASE_URL } from \"../../config/api\"\r\nimport { FIND_USER_BY_ID_FAILURE, FIND_USER_BY_ID_SUCCESS, FOLLOW_USER_FAILURE, FOLLOW_USER_SUCCESS, GET_RANDOM_USER_FAILURE, GET_RANDOM_USER_SUCCESS, GET_USER_PROFILE_USER_FAILURE, GET_USER_PROFILE_USER_SUCCESS, LOGIN_USER_FAILURE, LOGIN_USER_SUCCESS, LOGOUT, REGISTER_USER_FAILURE, REGISTER_USER_SUCCESS, SEARCH_USERS_FAILURE, SEARCH_USERS_SUCCESS, UPDATE_USER_FAILURE, UPDATE_USER_SUCCESS } from \"./ActionType\";\r\n\r\nexport const loginUser = (loginData) => async (dispatch) => {\r\n    try {\r\n        const response = await axios.post(`${API_BASE_URL}/auth/login`, loginData);\r\n        const data = response.data;\r\n        if (data.jwt) {\r\n            localStorage.setItem(\"jwt\", data.jwt);\r\n        }\r\n\r\n        dispatch({ type: LOGIN_USER_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        console.log(error);\r\n        dispatch({ type: LOGIN_USER_FAILURE, payload: error.message });\r\n    }\r\n};\r\n\r\nexport const registerUser = (registerData) => async (dispatch) => {\r\n    try {\r\n        const response = await axios.post(`${API_BASE_URL}/auth/register`, registerData);\r\n        const data = response.data;\r\n\r\n        if (data.jwt) {\r\n            localStorage.setItem(\"jwt\", data.jwt);\r\n        }\r\n\r\n        dispatch({ type: REGISTER_USER_SUCCESS, payload: data.jwt });\r\n    } catch (error) {\r\n        console.log(error);\r\n        dispatch({ type: REGISTER_USER_FAILURE, payload: error.message });\r\n    }\r\n};\r\n\r\n\r\nexport const getUserProfile = (jwt) => async (dispatch) => {\r\n    try {\r\n        const response = await axios.get(`${API_BASE_URL}/api/user/profile`, {\r\n            headers: {\r\n                \"Authorization\": `Bearer ${jwt}`\r\n            }\r\n        });\r\n\r\n\r\n        dispatch({ type: GET_USER_PROFILE_USER_SUCCESS, payload: response.data });\r\n    } catch (error) {\r\n        console.log(error);\r\n        dispatch({ type: GET_USER_PROFILE_USER_FAILURE, payload: error.message });\r\n    }\r\n}\r\n\r\nexport const findUserById = (userId) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.get(`/api/user/${userId}`);\r\n\r\n        dispatch({ type: FIND_USER_BY_ID_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        console.log(error);\r\n        dispatch({ type: FIND_USER_BY_ID_FAILURE, payload: error.message });\r\n    }\r\n}\r\n\r\nexport const updateUserProfile = (reqData) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.put(`/api/user/update`, reqData);\r\n\r\n        dispatch({ type: UPDATE_USER_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        console.log(error);\r\n        dispatch({ type: UPDATE_USER_FAILURE, payload: error.message });\r\n    }\r\n}\r\n\r\nexport const followUser = (userId) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.put(`/api/user/${userId}/follow`);\r\n\r\n        dispatch({ type: FOLLOW_USER_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        console.log(error);\r\n        dispatch({ type: FOLLOW_USER_FAILURE, payload: error.message });\r\n    }\r\n}\r\n\r\nexport const getRandomUser = () => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.get(`/api/user/random`);\r\n\r\n        dispatch({ type: GET_RANDOM_USER_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        console.log(error);\r\n        dispatch({ type: GET_RANDOM_USER_FAILURE, payload: error.message });\r\n    }\r\n}\r\n\r\nexport const searchPosts = (query) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.get(`/api/user/search`, { params: { query } });\r\n        dispatch({ type: SEARCH_USERS_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        console.log(error);\r\n        dispatch({ type: SEARCH_USERS_FAILURE, payload: error.message });\r\n    }\r\n};\r\n\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    localStorage.removeItem(\"jwt\");\r\n\r\n    dispatch({ type: LOGOUT, payload: null });\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}