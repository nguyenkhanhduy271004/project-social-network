{"ast":null,"code":"import { api } from \"../../config/api\";\nimport { FIND_POST_BY_ID_FAILURE, FIND_POST_BY_ID_SUCCESS, GET_ALL_POSTS_FAILURE, GET_ALL_POSTS_SUCCESS, GET_USER_POSTS_FAILURE, GET_USER_POSTS_SUCCESS, LIKE_POST_FAILURE, LIKE_POST_SUCCESS, POST_DELETE_FAILURE, POST_DELETE_SUCCESS, REPLY_POST_FAILURE, REPLY_POST_SUCCESS, RPOST_FAILURE, RPOST_SUCCESS, USER_LIKE_POST_FAILURE, USER_LIKE_POST_SUCCESS } from \"./ActionType\";\nexport const getAllPosts = () => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.get(\"/api/posts/\");\n    console.log(\"Get all posts\", data);\n    dispatch({\n      type: GET_ALL_POSTS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: GET_ALL_POSTS_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const getUsersPost = userId => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.get(`/api/posts/user/${userId}`);\n    console.log(\"Get all posts\", data);\n    dispatch({\n      type: GET_USER_POSTS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: GET_USER_POSTS_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const findPostsByLikeContainUser = userId => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.get(`/api/posts/user/${userId}/likes`);\n    console.log(\"Get all posts\", data);\n    dispatch({\n      type: USER_LIKE_POST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: USER_LIKE_POST_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const findPostsById = postId => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.get(`/api/posts/${postId}`);\n    console.log(\"Get all posts\", data);\n    dispatch({\n      type: FIND_POST_BY_ID_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: FIND_POST_BY_ID_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const createPost = postData => async dispatch => {\n  try {\n    const formData = new FormData();\n    formData.append(\"file\", postData.file);\n    formData.append(\"content\", postData.content);\n    const {\n      data\n    } = await api.post(`/api/posts/create`, formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n        \"Authorization\": `Bearer ${localStorage.getItem(\"jwt\")}`\n      }\n    });\n    console.log(\"Create Post:\", data);\n    dispatch({\n      type: POST_CREATE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: POST_CREATE_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const createPostReply = postData => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.post(`/api/posts/reply`, postData);\n    console.log(\"Get all posts\", data);\n    dispatch({\n      type: REPLY_POST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: REPLY_POST_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const createRePost = postId => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.post(`/api/posts/${postId}/repost`);\n    console.log(\"Get all posts\", data);\n    dispatch({\n      type: RPOST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: RPOST_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const likePost = postId => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.post(`/api/${postId}/like`);\n    console.log(\"Get all posts\", data);\n    dispatch({\n      type: LIKE_POST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: LIKE_POST_FAILURE,\n      payload: error.message\n    });\n  }\n};\nexport const deletePost = postId => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.post(`/api/post/${postId}`);\n    console.log(\"Get all posts\", data);\n    dispatch({\n      type: POST_DELETE_SUCCESS,\n      payload: postId\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: POST_DELETE_FAILURE,\n      payload: error.message\n    });\n  }\n};","map":{"version":3,"names":["api","FIND_POST_BY_ID_FAILURE","FIND_POST_BY_ID_SUCCESS","GET_ALL_POSTS_FAILURE","GET_ALL_POSTS_SUCCESS","GET_USER_POSTS_FAILURE","GET_USER_POSTS_SUCCESS","LIKE_POST_FAILURE","LIKE_POST_SUCCESS","POST_DELETE_FAILURE","POST_DELETE_SUCCESS","REPLY_POST_FAILURE","REPLY_POST_SUCCESS","RPOST_FAILURE","RPOST_SUCCESS","USER_LIKE_POST_FAILURE","USER_LIKE_POST_SUCCESS","getAllPosts","dispatch","data","get","console","log","type","payload","error","message","getUsersPost","userId","findPostsByLikeContainUser","findPostsById","postId","createPost","postData","formData","FormData","append","file","content","post","headers","localStorage","getItem","POST_CREATE_SUCCESS","POST_CREATE_FAILURE","createPostReply","createRePost","likePost","deletePost"],"sources":["D:/WEB/social/social-react/src/Store/Post/Action.js"],"sourcesContent":["import { api } from \"../../config/api\";\r\nimport { FIND_POST_BY_ID_FAILURE, FIND_POST_BY_ID_SUCCESS, GET_ALL_POSTS_FAILURE, GET_ALL_POSTS_SUCCESS, GET_USER_POSTS_FAILURE, GET_USER_POSTS_SUCCESS, LIKE_POST_FAILURE, LIKE_POST_SUCCESS, POST_DELETE_FAILURE, POST_DELETE_SUCCESS, REPLY_POST_FAILURE, REPLY_POST_SUCCESS, RPOST_FAILURE, RPOST_SUCCESS, USER_LIKE_POST_FAILURE, USER_LIKE_POST_SUCCESS } from \"./ActionType\";\r\n\r\nexport const getAllPosts = () => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.get(\"/api/posts/\");\r\n        console.log(\"Get all posts\", data);\r\n        dispatch({ type: GET_ALL_POSTS_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        console.log(error);\r\n        dispatch({ type: GET_ALL_POSTS_FAILURE, payload: error.message });\r\n    }\r\n}\r\n\r\nexport const getUsersPost = (userId) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.get(`/api/posts/user/${userId}`);\r\n        console.log(\"Get all posts\", data);\r\n        dispatch({ type: GET_USER_POSTS_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        console.log(error);\r\n        dispatch({ type: GET_USER_POSTS_FAILURE, payload: error.message });\r\n    }\r\n}\r\n\r\nexport const findPostsByLikeContainUser = (userId) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.get(`/api/posts/user/${userId}/likes`);\r\n        console.log(\"Get all posts\", data);\r\n        dispatch({ type: USER_LIKE_POST_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        console.log(error);\r\n        dispatch({ type: USER_LIKE_POST_FAILURE, payload: error.message });\r\n    }\r\n}\r\n\r\nexport const findPostsById = (postId) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.get(`/api/posts/${postId}`);\r\n        console.log(\"Get all posts\", data);\r\n        dispatch({ type: FIND_POST_BY_ID_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        console.log(error);\r\n        dispatch({ type: FIND_POST_BY_ID_FAILURE, payload: error.message });\r\n    }\r\n}\r\n\r\nexport const createPost = (postData) => async (dispatch) => {\r\n    try {\r\n        const formData = new FormData();\r\n        formData.append(\"file\", postData.file);\r\n        formData.append(\"content\", postData.content);\r\n\r\n        const { data } = await api.post(`/api/posts/create`, formData, {\r\n            headers: {\r\n                \"Content-Type\": \"multipart/form-data\",\r\n                \"Authorization\": `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n            },\r\n        });\r\n\r\n        console.log(\"Create Post:\", data);\r\n        dispatch({ type: POST_CREATE_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        console.log(error);\r\n        dispatch({ type: POST_CREATE_FAILURE, payload: error.message });\r\n    }\r\n};\r\n\r\n\r\nexport const createPostReply = (postData) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.post(`/api/posts/reply`, postData);\r\n        console.log(\"Get all posts\", data);\r\n        dispatch({ type: REPLY_POST_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        console.log(error);\r\n        dispatch({ type: REPLY_POST_FAILURE, payload: error.message });\r\n    }\r\n}\r\n\r\nexport const createRePost = (postId) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.post(`/api/posts/${postId}/repost`);\r\n        console.log(\"Get all posts\", data);\r\n        dispatch({ type: RPOST_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        console.log(error);\r\n        dispatch({ type: RPOST_FAILURE, payload: error.message });\r\n    }\r\n}\r\n\r\nexport const likePost = (postId) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.post(`/api/${postId}/like`);\r\n        console.log(\"Get all posts\", data);\r\n        dispatch({ type: LIKE_POST_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        console.log(error);\r\n        dispatch({ type: LIKE_POST_FAILURE, payload: error.message });\r\n    }\r\n}\r\n\r\nexport const deletePost = (postId) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.post(`/api/post/${postId}`);\r\n        console.log(\"Get all posts\", data);\r\n        dispatch({ type: POST_DELETE_SUCCESS, payload: postId });\r\n    } catch (error) {\r\n        console.log(error);\r\n        dispatch({ type: POST_DELETE_FAILURE, payload: error.message });\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}