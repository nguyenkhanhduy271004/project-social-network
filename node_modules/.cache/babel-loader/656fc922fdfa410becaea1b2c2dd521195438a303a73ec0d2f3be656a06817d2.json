{"ast":null,"code":"var _jsxFileName = \"D:\\\\WEB\\\\social\\\\social-react\\\\src\\\\Components\\\\Authentication\\\\Authentication.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Container, Box, Typography, TextField, Button, Divider } from \"@mui/material\";\nimport { GoogleOAuthProvider, GoogleLogin } from \"@react-oauth/google\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { loginUser, registerUser } from \"../../Store/Auth/Action\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Authentication() {\n  _s();\n  const [isLogin, setIsLogin] = useState();\n  const authError = useSelector(state => state.auth.error);\n  const [error, setError] = useState(\"\");\n  const dispatch = useDispatch();\n  useEffect(() => {\n    setIsLogin(window.location.pathname === \"/login\");\n  }, []);\n  const validationSchema = Yup.object().shape({\n    email: Yup.string().email(\"Email không hợp lệ\").required(\"Bắt buộc nhập email\"),\n    password: Yup.string().min(6, \"Mật khẩu phải có ít nhất 6 ký tự\").required(\"Bắt buộc nhập mật khẩu\")\n  });\n  const formik = useFormik({\n    initialValues: {\n      email: \"\",\n      password: \"\"\n    },\n    validationSchema,\n    onSubmit: values => {\n      dispatch(loginUser({\n        email: values.email,\n        password: values.password\n      }));\n    }\n  });\n  useEffect(() => {\n    if (authError && authError !== \"Request failed with status code 500\") {\n      setError(authError);\n    }\n  }, [authError]);\n  const handleGoogleLogin = response => {\n    console.log(\"Google Response:\", response);\n    if (response !== null && response !== void 0 && response.credential) {\n      dispatch(loginUser({\n        googleToken: response.credential\n      }));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(GoogleOAuthProvider, {\n    clientId: \"653481836251-01bopr69v8mglo284f012ejo1v3ohjg5.apps.googleusercontent.com\",\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: false,\n      sx: {\n        width: \"100vw\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        minHeight: \"100vh\",\n        bgcolor: \"black\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          width: \"100%\",\n          maxWidth: 400,\n          textAlign: \"center\",\n          p: 3,\n          bgcolor: \"black\",\n          color: \"white\",\n          borderRadius: 2,\n          boxShadow: 3,\n          border: \"1px solid #ccc\",\n          marginTop: \"20px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          fontWeight: \"bold\",\n          gutterBottom: true,\n          children: \"Instagram\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          gutterBottom: true,\n          children: \"\\u0110\\u0103ng nh\\u1EADp b\\u1EB1ng Google.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(GoogleLogin, {\n          onSuccess: handleGoogleLogin,\n          onError: () => console.log(\"Google Login Failed\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {\n          sx: {\n            my: 2\n          },\n          children: \"HO\\u1EB6C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), error && /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"error\",\n          sx: {\n            mt: 2\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          component: \"form\",\n          noValidate: true,\n          autoComplete: \"off\",\n          onSubmit: formik.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Email\",\n            variant: \"filled\",\n            name: \"email\",\n            value: formik.values.email,\n            onChange: formik.handleChange,\n            sx: {\n              mt: 2,\n              bgcolor: \"#333\"\n            },\n            InputLabelProps: {\n              style: {\n                color: \"white\"\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"M\\u1EADt kh\\u1EA9u\",\n            type: \"password\",\n            variant: \"filled\",\n            name: \"password\",\n            value: formik.values.password,\n            onChange: formik.handleChange,\n            sx: {\n              mt: 2,\n              bgcolor: \"#333\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            fullWidth: true,\n            type: \"submit\",\n            variant: \"contained\",\n            sx: {\n              mt: 2,\n              bgcolor: \"#1877F2\",\n              color: \"white\"\n            },\n            children: \"\\u0110\\u0103ng nh\\u1EADp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n}\n_s(Authentication, \"1VUDvhiy7OzA8dDlAC9l+dfxS0g=\", false, function () {\n  return [useSelector, useDispatch, useFormik];\n});\n_c = Authentication;\nexport default Authentication;\nvar _c;\n$RefreshReg$(_c, \"Authentication\");","map":{"version":3,"names":["React","useState","useEffect","Container","Box","Typography","TextField","Button","Divider","GoogleOAuthProvider","GoogleLogin","useFormik","Yup","useDispatch","useSelector","loginUser","registerUser","jsxDEV","_jsxDEV","Authentication","_s","isLogin","setIsLogin","authError","state","auth","error","setError","dispatch","window","location","pathname","validationSchema","object","shape","email","string","required","password","min","formik","initialValues","onSubmit","values","handleGoogleLogin","response","console","log","credential","googleToken","clientId","children","maxWidth","sx","width","display","flexDirection","alignItems","justifyContent","minHeight","bgcolor","textAlign","p","color","borderRadius","boxShadow","border","marginTop","variant","fontWeight","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","onSuccess","onError","my","mt","component","noValidate","autoComplete","handleSubmit","fullWidth","label","name","value","onChange","handleChange","InputLabelProps","style","type","_c","$RefreshReg$"],"sources":["D:/WEB/social/social-react/src/Components/Authentication/Authentication.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n    Container, Box, Typography, TextField, Button, Divider\r\n} from \"@mui/material\";\r\nimport { GoogleOAuthProvider, GoogleLogin } from \"@react-oauth/google\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { loginUser, registerUser } from \"../../Store/Auth/Action\";\r\n\r\nfunction Authentication() {\r\n    const [isLogin, setIsLogin] = useState();\r\n    const authError = useSelector((state) => state.auth.error);\r\n    const [error, setError] = useState(\"\");\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        setIsLogin(window.location.pathname === \"/login\");\r\n    }, []);\r\n\r\n    const validationSchema = Yup.object().shape({\r\n        email: Yup.string().email(\"Email không hợp lệ\").required(\"Bắt buộc nhập email\"),\r\n        password: Yup.string().min(6, \"Mật khẩu phải có ít nhất 6 ký tự\").required(\"Bắt buộc nhập mật khẩu\"),\r\n    });\r\n\r\n    const formik = useFormik({\r\n        initialValues: { email: \"\", password: \"\" },\r\n        validationSchema,\r\n        onSubmit: (values) => {\r\n            dispatch(loginUser({ email: values.email, password: values.password }));\r\n        },\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (authError && authError !== \"Request failed with status code 500\") {\r\n            setError(authError);\r\n        }\r\n    }, [authError]);\r\n\r\n    const handleGoogleLogin = (response) => {\r\n        console.log(\"Google Response:\", response);\r\n        if (response?.credential) {\r\n            dispatch(loginUser({ googleToken: response.credential }));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <GoogleOAuthProvider clientId=\"653481836251-01bopr69v8mglo284f012ejo1v3ohjg5.apps.googleusercontent.com\">\r\n            <Container maxWidth={false} sx={{ width: \"100vw\", display: \"flex\", flexDirection: \"column\", alignItems: \"center\", justifyContent: \"center\", minHeight: \"100vh\", bgcolor: \"black\" }}>\r\n                <Box sx={{ width: \"100%\", maxWidth: 400, textAlign: \"center\", p: 3, bgcolor: \"black\", color: \"white\", borderRadius: 2, boxShadow: 3, border: \"1px solid #ccc\", marginTop: \"20px\" }}>\r\n                    <Typography variant=\"h4\" fontWeight=\"bold\" gutterBottom>Instagram</Typography>\r\n                    <Typography variant=\"body2\" gutterBottom>Đăng nhập bằng Google.</Typography>\r\n\r\n                    <GoogleLogin onSuccess={handleGoogleLogin} onError={() => console.log(\"Google Login Failed\")} />\r\n\r\n                    <Divider sx={{ my: 2 }}>HOẶC</Divider>\r\n                    {error && <Typography color=\"error\" sx={{ mt: 2 }}>{error}</Typography>}\r\n\r\n                    <Box component=\"form\" noValidate autoComplete=\"off\" onSubmit={formik.handleSubmit}>\r\n                        <TextField fullWidth label=\"Email\" variant=\"filled\" name=\"email\" value={formik.values.email} onChange={formik.handleChange} sx={{ mt: 2, bgcolor: \"#333\" }} InputLabelProps={{ style: { color: \"white\" } }} />\r\n                        <TextField fullWidth label=\"Mật khẩu\" type=\"password\" variant=\"filled\" name=\"password\" value={formik.values.password} onChange={formik.handleChange} sx={{ mt: 2, bgcolor: \"#333\" }} />\r\n\r\n                        <Button fullWidth type=\"submit\" variant=\"contained\" sx={{ mt: 2, bgcolor: \"#1877F2\", color: \"white\" }}>\r\n                            Đăng nhập\r\n                        </Button>\r\n                    </Box>\r\n                </Box>\r\n            </Container>\r\n        </GoogleOAuthProvider>\r\n    );\r\n}\r\n\r\nexport default Authentication;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}