{"ast":null,"code":"import { SEND_MESSAGE_REQUEST, SEND_MESSAGE_SUCCESS, SEND_MESSAGE_FAILURE, GET_HISTORY_MESSAGE_REQUEST, GET_HISTORY_MESSAGE_SUCCESS, GET_HISTORY_MESSAGE_FAILURE, GET_USER_REQUEST, GET_USER_SUCCESS, GET_USER_FAILURE } from \"./ActionType\";\nconst initialState = {\n  loading: false,\n  messages: [],\n  users: [],\n  error: null,\n  notifications: {}\n};\nexport const chatReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SEND_MESSAGE_REQUEST:\n      return {\n        ...state,\n        loading: true\n      };\n    case SEND_MESSAGE_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        messages: [...state.messages, action.payload]\n      };\n    case SEND_MESSAGE_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload\n      };\n    case GET_HISTORY_MESSAGE_REQUEST:\n      return {\n        ...state,\n        loading: true\n      };\n    case GET_HISTORY_MESSAGE_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        messages: action.payload\n      };\n    case GET_HISTORY_MESSAGE_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload\n      };\n    case GET_USER_REQUEST:\n      return {\n        ...state,\n        loading: true\n      };\n    case GET_USER_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        users: action.payload\n      };\n    case GET_USER_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload\n      };\n    case \"ADD_MESSAGE\":\n      return {\n        ...state,\n        messages: [...state.messages, {\n          ...action.payload,\n          timestamp: action.payload.timestamp ? new Date(action.payload.timestamp).toISOString() : new Date().toISOString()\n        }]\n      };\n    case \"ADD_NOTIFICATION\":\n      console.log(\"Action received:\", action.payload);\n      return {\n        ...state,\n        notifications: {\n          ...state.notifications,\n          [action.payload.receiverId]: (state.notifications[action.payload.receiverId] || 0) + 1\n        }\n      };\n    case \"RESET_NOTIFICATION\":\n      return {\n        ...state,\n        notifications: {\n          ...state.notifications,\n          [action.payload.receiverId]: 0\n        }\n      };\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["SEND_MESSAGE_REQUEST","SEND_MESSAGE_SUCCESS","SEND_MESSAGE_FAILURE","GET_HISTORY_MESSAGE_REQUEST","GET_HISTORY_MESSAGE_SUCCESS","GET_HISTORY_MESSAGE_FAILURE","GET_USER_REQUEST","GET_USER_SUCCESS","GET_USER_FAILURE","initialState","loading","messages","users","error","notifications","chatReducer","state","action","type","payload","timestamp","Date","toISOString","console","log","receiverId"],"sources":["D:/WEB/social/social-react/src/Store/Chat/Reducer.js"],"sourcesContent":["import { SEND_MESSAGE_REQUEST, SEND_MESSAGE_SUCCESS, SEND_MESSAGE_FAILURE, GET_HISTORY_MESSAGE_REQUEST, GET_HISTORY_MESSAGE_SUCCESS, GET_HISTORY_MESSAGE_FAILURE, GET_USER_REQUEST, GET_USER_SUCCESS, GET_USER_FAILURE } from \"./ActionType\";\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    messages: [],\r\n    users: [],\r\n    error: null,\r\n    notifications: {}\r\n};\r\n\r\nexport const chatReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n\r\n        case SEND_MESSAGE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                messages: [...state.messages, action.payload]\r\n            };\r\n\r\n        case SEND_MESSAGE_FAILURE:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: action.payload\r\n            };\r\n\r\n        case GET_HISTORY_MESSAGE_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n\r\n        case GET_HISTORY_MESSAGE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                messages: action.payload\r\n            };\r\n\r\n        case GET_HISTORY_MESSAGE_FAILURE:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: action.payload\r\n            };\r\n        case GET_USER_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n\r\n        case GET_USER_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                users: action.payload\r\n            };\r\n\r\n        case GET_USER_FAILURE:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: action.payload\r\n            };\r\n        case \"ADD_MESSAGE\":\r\n            return {\r\n                ...state,\r\n                messages: [\r\n                    ...state.messages,\r\n                    {\r\n                        ...action.payload,\r\n                        timestamp: action.payload.timestamp\r\n                            ? new Date(action.payload.timestamp).toISOString()\r\n                            : new Date().toISOString()\r\n                    }\r\n                ]\r\n            };\r\n        case \"ADD_NOTIFICATION\":\r\n            console.log(\"Action received:\", action.payload);\r\n            return {\r\n                ...state,\r\n                notifications: {\r\n                    ...state.notifications,\r\n                    [action.payload.receiverId]: (state.notifications[action.payload.receiverId] || 0) + 1\r\n                }\r\n            };\r\n        case \"RESET_NOTIFICATION\":\r\n            return {\r\n                ...state,\r\n                notifications: {\r\n                    ...state.notifications,\r\n                    [action.payload.receiverId]: 0\r\n                }\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}